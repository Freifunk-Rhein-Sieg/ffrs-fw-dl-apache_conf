<VirtualHost *:80>
#<VirtualHost 46.4.138.183:80 [2a01:4f8:11d:600::183]:80>
#<VirtualHost *:80 [2a01:4f8:11d:600::183]:80 [2a03:2260:121::24]:80>
	ServerName images.freifunk-troisdorf.de
	ServerAdmin roman@freifunk-troisdorf.de

	DocumentRoot /srv/fwuploads/troisdorf
	Redirect 301 /stable http://downloader.freifunk-rhein-sieg.de
	Redirect 301 /experimental http://downloader.freifunk-rhein-sieg.de
	Redirect 301 /beta http://downloader.freifunk-rhein-sieg.de
        <Directory />
                Options FollowSymLinks
                AllowOverride None
        </Directory>
        <Directory /srv/fwuploads/troisdorf/>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all
        </Directory>

#	Alias "/testing" "/srv/ffrs-fw-dl/"
#        <Directory /srv/ffrs-fw-dl/>
#                Options Indexes FollowSymLinks MultiViews
#                AllowOverride None
#                Order allow,deny
#                allow from all
#        </Directory>

        ErrorLog ${APACHE_LOG_DIR}/error.log

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn

        #CustomLog ${APACHE_LOG_DIR}/access.log combined
	CustomLog /var/log/apache2/access_tdf.log combined
</VirtualHost>


## Rhein-Sieg
<VirtualHost *:80>
	ServerName images.freifunk-rhein-sieg.de
	ServerAlias update2.infra.fftdf
        ServerAdmin roman@freifunk-troisdorf.de

        DocumentRoot /srv/fwuploads

        Redirect 301 /troisdorf/stable http://downloader.freifunk-rhein-sieg.de
        Redirect 301 /troisdorf/experimental http://downloader.freifunk-rhein-sieg.de
        Redirect 301 /troisdorf/beta http://downloader.freifunk-rhein-sieg.de


        <Directory />
                Options FollowSymLinks
                AllowOverride None
        </Directory>
        <Directory /srv/fwuploads/>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all
        </Directory>


        ErrorLog ${APACHE_LOG_DIR}/error.log

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn

        CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>

## Rhein-Sieg Firmware Downloader
<VirtualHost *:80>
	ServerName downloader.freifunk-troisdorf.de
	ServerAlias downloader.freifunk-siegburg.de downloader.freifunk-rhein-sieg.de
        ServerAdmin roman@freifunk-troisdorf.de

        DocumentRoot /srv/downloader/

        <Directory />
                Options FollowSymLinks
                AllowOverride None
        </Directory>
        <Directory /srv/>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all
        </Directory>

        Alias "/fwuploads" "/srv/fwuploads"
        <Directory /srv/fwuploads>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all
        </Directory>
	<Location '/srv/fwuploads/lohmar/stable/sysupgrade'>
		Order Allow,Deny
		Allow from all

		Deny from fda0:747e:ab29:2241:32b5:c2ff:fe3e:7f2a
		Deny from fda0:747e:ab29:2241:32b5:c2ff:fe3e:8094
		Deny from fda0:747e:ab29:2241:32b5:c2ff:fe3e:84c6
		Deny from fda0:747e:ab29:2241:32b5:c2ff:feb0:495e
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:9dea
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:bfc2
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:c5c6
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:cac8
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:cdfc
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:ce1a
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:ce38
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:d024
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:d6f8
		Deny from fda0:747e:ab29:2241:62e3:27ff:fece:bef2
		Deny from fda0:747e:ab29:2241:62e3:27ff:fecf:1eee
		Deny from fda0:747e:ab29:2241:62e3:27ff:fee7:a9c
		Deny from fda0:747e:ab29:2241:62e3:27ff:fee7:3ab4
		Deny from fda0:747e:ab29:2241:62e3:27ff:feee:268a
		Deny from fda0:747e:ab29:2241:62e3:27ff:feee:2768
		Deny from fda0:747e:ab29:2241:ee08:6bff:fe20:4ef4
		Deny from fda0:747e:ab29:2241:ee08:6bff:fe59:6216
		Deny from fda0:747e:ab29:2241:f6f2:6dff:fe35:9fa
		Deny from fda0:747e:ab29:2241:1aa6:f7ff:fe7a:2c92
		Deny from fda0:747e:ab29:2241:f6f2:6dff:fee8:6712
		Deny from fda0:747e:ab29:2241:32b5:c2ff:fe3e:7fde
		Deny from fda0:747e:ab29:2241:32b5:c2ff:fe3e:849c
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:9dd4
		Deny from fda0:747e:ab29:2241:32b5:c2ff:fe3e:80a6
		Deny from fda0:747e:ab29:2241:62e3:27ff:feee:2f90
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe81:8c52
		Deny from fda0:747e:ab29:2241:16cc:20ff:fee1:56c0
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:cfba
		Deny from fda0:747e:ab29:2241:62e3:27ff:fe9a:9da2
		Deny from fda0:747e:ab29:2241:f6f2:6dff:fe6a:9398
		Deny from fda0:747e:ab29:2241:f6f2:6dff:fe35:f0c
		Deny from fda0:747e:ab29:2241:f6f2:6dff:fe6a:8ee8
		Deny from fda0:747e:ab29:2241:62e3:27ff:feee:2248
		Deny from fda0:747e:ab29:2241:f6f2:6dff:fedc:3b78
		Deny from fda0:747e:ab29:2241:32b5:c2ff:fe3e:7fdc
		Deny from fda0:747e:ab29:2241:ee08:6bff:fe59:62b8
		Deny from fda0:747e:ab29:2241:f6f2:6dff:feff:1b4a
		Deny from fda0:747e:ab29:2241:f6f2:6dff:feff:1b48
		Deny from fda0:747e:ab29:2241:f6f2:6dff:fedc:2484
		Deny from fda0:747e:ab29:2241:f6f2:6dff:feff:538
		Deny from fda0:747e:ab29:2241:f6f2:6dff:feff:1886
		Deny from fda0:747e:ab29:2241:ee08:6bff:fe59:632e
		Deny from fda0:747e:ab29:2241:ee08:6bff:fe59:62e8
		Deny from fda0:747e:ab29:2241:ee08:6bff:fe59:62e0
		Deny from fda0:747e:ab29:2241:ee08:6bff:fe59:6300
		Deny from fda0:747e:ab29:2241:62e3:27ff:fee7:a3a
	</Location>

        ErrorLog ${APACHE_LOG_DIR}/error.log

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn

        CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>


## Siegburg Firmware (Downloader)
<VirtualHost *:80>
        ServerName images.freifunk-siegburg.de
        ServerAdmin kontakt@freifunk-troisdorf.de

        DocumentRoot /srv/fwuploads/siegburg/

        <Directory />
                Options FollowSymLinks
                AllowOverride None
        </Directory>
        <Directory /srv/fwuploads/siegburg/>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all
        </Directory>

#        Alias "/fwuploads" "/srv/fwuploads"
#        <Directory /srv/fwuploads>
#                Options Indexes FollowSymLinks MultiViews
#                AllowOverride None
#                Order allow,deny
#                allow from all
#        </Directory>


        ErrorLog ${APACHE_LOG_DIR}/error.log

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn

        CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>

## Rhein-Sieg Firmware Downloader testing
<VirtualHost *:80>
        ServerName downloader.freifunk-rhein-sieg.net
	ServerAlias freifunk-rhein-sieg.net
        ServerAdmin roman@freifunk-troisdorf.de

        DocumentRoot /srv/ffrs-fw-dl/

        <Directory />
                Options FollowSymLinks
                AllowOverride None
        </Directory>
        <Directory /srv/>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all
        </Directory>

        Alias "/fwuploads" "/srv/fwuploads"
        <Directory /srv/fwuploads>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all
        </Directory>


        ErrorLog ${APACHE_LOG_DIR}/error.log

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn

        CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>

